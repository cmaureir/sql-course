

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lecture 32 - Using SQL Developer &mdash; sql-course 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="sql-course 1 documentation" href="../../index.html" />
    <link rel="up" title="Eighth week" href="index.html" />
    <link rel="next" title="Assignment 8" href="assignment8.html" />
    <link rel="prev" title="Lecture 31 - Backup and Recovery Services Database" href="lecture31.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="assignment8.html" title="Assignment 8"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lecture31.html" title="Lecture 31 - Backup and Recovery Services Database"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Eighth week</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lecture-32-using-sql-developer">
<h1>Lecture 32 - Using SQL Developer<a class="headerlink" href="#lecture-32-using-sql-developer" title="Permalink to this headline">¶</a></h1>
<p>As the final lecture,
I would like to give you a big picture
of other Python modules, which can simplify
a lot of your everyday work.</p>
<p>Remember that these modules are only a few.
You can search for another ones,
and you will certainly find some for almost
all kinds of systems and tasks.
For example, there are Python modules
for developing low-level device drivers
and for developing Facebook applications.</p>
<div class="section" id="argument-parser-argparse">
<h2>Argument Parser (<tt class="docutils literal"><span class="pre">argparse</span></tt>)<a class="headerlink" href="#argument-parser-argparse" title="Permalink to this headline">¶</a></h2>
<p>This is a Python module which was developed under
the goal to make it easy to write command line tools.</p>
<p>As an example, if we like to execute our Python script
in the following way:</p>
<div class="highlight-python"><pre>$ python script.py -f my_file</pre>
</div>
<p>One option is to use the <tt class="docutils literal"><span class="pre">sys.argv</span></tt> variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
</pre></div>
</div>
<p>Executing the script:</p>
<div class="highlight-python"><pre>$ python script.py
['script.py']
$ python script.py --help
['script.py', '--help']
$ python script.py -f my_file
['script.py', '-f', 'my_file']</pre>
</div>
<p>So, with a list, it could be very useful.
But we will need to write some <tt class="docutils literal"><span class="pre">if</span></tt> statement
to handle when the user types an option incorrectly,
or to check the <tt class="docutils literal"><span class="pre">len(argv)</span></tt>, etc.</p>
<p>A better idea is to use the <tt class="docutils literal"><span class="pre">argparse</span></tt> module.</p>
<p>So, we will create an example to use one simple option,</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">-f</span></tt>, some input file.</li>
</ul>
<p>First,
we need to import the module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">argparse</span>
</pre></div>
</div>
<p>Second,
we need to create a parser object,
using the class <tt class="docutils literal"><span class="pre">ArgumentParser</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">parser</span> <span class="o">=</span> <span class="n">optparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
</pre></div>
</div>
<p>Third,
we need to add some option to our parser,
using the <tt class="docutils literal"><span class="pre">add_option()</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&#39;-f&#39;</span><span class="p">,</span> <span class="s">&#39;--file&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&#39;input filename&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;file_value&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see,
we can give as a parameter both a short and a long option,
a help string, to obtain a guide when the user
uses the <tt class="docutils literal"><span class="pre">--help</span></tt> or <tt class="docutils literal"><span class="pre">-h</span></tt> options:</p>
<div class="highlight-python"><pre>$ python script.py -h
$ python script.py --help</pre>
</div>
<p>and a <tt class="docutils literal"><span class="pre">dest</span></tt> argument,
where the value of an option will be saved,
in this case <em>file_value</em>.</p>
<p>Fourth,
we obtain the values of the command line
into an <tt class="docutils literal"><span class="pre">args</span></tt> variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>Finally,
we will add a <tt class="docutils literal"><span class="pre">print</span></tt> to show the values
of the options, adding to the <tt class="docutils literal"><span class="pre">args</span></tt>
the <em>dest</em> value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">args</span><span class="o">.</span><span class="n">file_value</span>
</pre></div>
</div>
<p>Ok, so our script is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">argparse</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&#39;-f&#39;</span><span class="p">,</span> <span class="s">&#39;--file&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&#39;input filename&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;file_value&#39;</span><span class="p">)</span>

<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

<span class="k">print</span> <span class="n">args</span><span class="o">.</span><span class="n">file_value</span>
</pre></div>
</div>
<p>Now we will execute it,
to understand the behavior:</p>
<div class="highlight-python"><pre>$ python script.py
None
$ python script.py  test
usage: script.py [-h] [-f FILE_VALUE]
script.py: error: unrecognized arguments: test
$ python script.py  -f my_file
my_file
$ python script.py  --file my_file
my_file
$ python script.py  -a test
usage: script.py [-h] [-f FILE_VALUE]
script.py: error: unrecognized arguments: -a test
$ python script.py  -h
usage: script.py [-h] [-f FILE_VALUE]

optional arguments:
  -h, --help            show this help message and exit
  -f FILE_VALUE, --file FILE_VALUE
                        input filename</pre>
</div>
</div>
<div class="section" id="comma-separated-values-csv">
<h2>Comma-Separated Values (CSV)<a class="headerlink" href="#comma-separated-values-csv" title="Permalink to this headline">¶</a></h2>
<p>The CSV file formats is used
to store data in plain-text
that can be easily written an read in any text editor,
using as a delimiter a special symbol (<tt class="docutils literal"><span class="pre">,</span></tt>, <tt class="docutils literal"><span class="pre">;</span></tt>, etc.).</p>
<p>Each line in a CSV file represent rows in a table,
being the commas the column separation.</p>
<p>So, a simple example of a CSV file could be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Jill</span><span class="p">,</span> <span class="n">Valentine</span><span class="p">,</span> <span class="mi">555</span><span class="o">-</span><span class="mi">3000</span>
<span class="n">Claire</span><span class="p">,</span> <span class="n">Redfield</span><span class="p">,</span> <span class="mi">555</span><span class="o">-</span><span class="mi">4000</span>
<span class="n">Leon</span><span class="p">,</span> <span class="n">Kennedy</span><span class="p">,</span> <span class="mi">555</span><span class="o">-</span><span class="mi">5000</span>
</pre></div>
</div>
<p>One benefit,
is that in a lot of spreadsheets programs,
like <a class="reference external" href="http://www.openoffice.org/">OpenOffice</a> and <a class="reference external" href="http://office.microsoft.com/en-us/excel/">Microsoft Excel</a>
you can export tables into CSV format,
so you can easily manipulate it
with Python.</p>
<p>Python provides a module called <tt class="docutils literal"><span class="pre">csv</span></tt>,
which you can easily import like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">csv</span>
</pre></div>
</div>
<p>Now, we will review the two basic actions
that we need to work with a CSV file,
write and read.</p>
<div class="section" id="writer">
<h3>Writer<a class="headerlink" href="#writer" title="Permalink to this headline">¶</a></h3>
<p>First of all,
we need to create an associated file,
which we will open same as we learn in the
<a class="reference external" href="../week4/lecture15.html">lecture 15</a>, using the <tt class="docutils literal"><span class="pre">open</span></tt> function,
but inside of a CSV module function,
called <tt class="docutils literal"><span class="pre">writer</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.csv&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Finally,
we need to write some content
inside the file, in which case
we can use a CSV module function,
called <tt class="docutils literal"><span class="pre">writerows</span></tt> which receive
as parameter a list of tuples.
Each tuple element, represents a
column in the row:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">([</span>
    <span class="p">(</span><span class="s">&#39;John&#39;</span><span class="p">,</span>   <span class="s">&#39;Smith&#39;</span><span class="p">,</span>    <span class="mi">12345</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Alexia&#39;</span><span class="p">,</span> <span class="s">&#39;Ashford&#39;</span><span class="p">,</span>   <span class="mi">98765</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Chris&#39;</span><span class="p">,</span>  <span class="s">&#39;Redfield&#39;</span><span class="p">,</span> <span class="mi">99123</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
<p>And that is it,
very simple.</p>
<p>The whole code looks like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.csv&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">))</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">([</span>
    <span class="p">(</span><span class="s">&#39;John&#39;</span><span class="p">,</span>   <span class="s">&#39;Smith&#39;</span><span class="p">,</span>    <span class="mi">12345</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Alexia&#39;</span><span class="p">,</span> <span class="s">&#39;Ashford&#39;</span><span class="p">,</span>   <span class="mi">98765</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Chris&#39;</span><span class="p">,</span>  <span class="s">&#39;Redfield&#39;</span><span class="p">,</span> <span class="mi">99123</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
<p>Looking inside the file:</p>
<div class="highlight-python"><pre>$ cat test.csv
John,Smith,12345
Alexia,Ashford,98765
Chris,Redfield,99123</pre>
</div>
</div>
<div class="section" id="reader">
<h3>Reader<a class="headerlink" href="#reader" title="Permalink to this headline">¶</a></h3>
<p>Reading a CSV file,
is very similar to read a simple file,
the only difference is that we will
use a CSV module function to obtain
the reference to the file,
called <tt class="docutils literal"><span class="pre">reader</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.csv&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">reader</span></tt> reference,
will contain all the file data,
and we can access it easily,
using a <cite>for</cite> statement:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">value</span>
</pre></div>
</div>
<p>All the code together looks like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.csv&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">firstname</span><span class="p">,</span> <span class="n">lastname</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">firstname</span><span class="p">,</span> <span class="n">lastname</span><span class="p">,</span> <span class="n">value</span>
</pre></div>
</div>
<p>And the output is:</p>
<div class="highlight-python"><pre>$ python csv-reader.py
John Smith 12345
Alexia Ashford 98765
Chris Redfield 99123</pre>
</div>
</div>
</div>
<div class="section" id="extensible-markup-language-xml">
<h2>Extensible Markup Language (XML)<a class="headerlink" href="#extensible-markup-language-xml" title="Permalink to this headline">¶</a></h2>
<p>The XML format is a set of rules,
for encoding document
in a machine-readable form.</p>
<p>The XML design goals are, <em>simplicity</em>, <em>generality</em>, and <em>usability</em>
over the Internet, because is use also to
represent some web service.</p>
<p>A lot of Application Programming Interfaces (APIs),
have been developed using it,
and is a widely used schema to the software configuration files.</p>
<p>There is a Python module called <tt class="docutils literal"><span class="pre">xml.dom.minidom</span></tt>,
to interact with XML files.</p>
<p>The main idea,
previous to start to work with XML files,
is the tree notion schema.
Every new tag is a <tt class="docutils literal"><span class="pre">node</span></tt>,
and each node can has a <tt class="docutils literal"><span class="pre">child</span> <span class="pre">node</span></tt>.
Each node, has a <tt class="docutils literal"><span class="pre">name</span></tt> and a <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
<div class="section" id="parsing-xml">
<h3>Parsing XML<a class="headerlink" href="#parsing-xml" title="Permalink to this headline">¶</a></h3>
<p>You can parse an XML file
of an XML string using two
methods of this module,
called <tt class="docutils literal"><span class="pre">parse</span></tt> and <tt class="docutils literal"><span class="pre">parseString</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parse</span><span class="p">,</span> <span class="n">parseString</span>

<span class="n">dom1</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span> <span class="s">&quot;test.xml&quot;</span> <span class="p">)</span>   <span class="c"># parse an XML file</span>
<span class="n">dom2</span> <span class="o">=</span> <span class="n">parseString</span><span class="p">(</span> <span class="s">&quot;&lt;myxml&gt;Some data &lt;empty/&gt; some more data&lt;/myxml&gt;&quot;</span> <span class="p">)</span>
<span class="k">print</span> <span class="n">dom1</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
<span class="k">print</span> <span class="n">dom2</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
</pre></div>
</div>
<p>The content of the <tt class="docutils literal"><span class="pre">test.xml</span></tt> file is:</p>
<div class="highlight-python"><pre>&lt;tag&gt;hello&lt;/tag&gt;</pre>
</div>
<p>And the output of the script is:</p>
<div class="highlight-python"><pre>$ python xml-example.py
&lt;?xmlversion="1.0"?&gt;
&lt;tag&gt;hello&lt;/tag&gt;
&lt;?xmlversion="1.0"?&gt;
&lt;myxml&gt;Somedata&lt;empty/&gt;somemoredata&lt;/myxml&gt;</pre>
</div>
<p>You have another functionality
to obtain data from each node,
like:</p>
<ul class="simple">
<li>node.nodeName</li>
<li>node.nodeValue</li>
<li>node.childNodes</li>
</ul>
<p>Lets consider the next file:</p>
<div class="highlight-python"><pre>$ cat test.xml
&lt;tag&gt;
    test content
    &lt;name&gt;hello&lt;/name&gt;
    &lt;name&gt;world&lt;/name&gt;
&lt;/tag&gt;</pre>
</div>
<p>Now, we will obtain some of the file values,
with the following script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parse</span><span class="p">,</span> <span class="n">parseString</span>

<span class="n">dom1</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span> <span class="s">&quot;test.xml&quot;</span> <span class="p">)</span>   <span class="c"># parse an XML file</span>
<span class="n">first</span> <span class="o">=</span> <span class="n">dom1</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;tag&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">print</span> <span class="n">first</span><span class="o">.</span><span class="n">childNodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">nodeValue</span>
<span class="k">print</span> <span class="n">first</span><span class="o">.</span><span class="n">childNodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
<span class="k">print</span> <span class="n">first</span><span class="o">.</span><span class="n">nodeName</span>
</pre></div>
</div>
<p>The output will be:</p>
<div class="highlight-python"><pre>test content
&lt;name&gt;hello&lt;/name&gt;                                                                                                                                           tag</pre>
</div>
</div>
<div class="section" id="finding-elements">
<h3>Finding elements<a class="headerlink" href="#finding-elements" title="Permalink to this headline">¶</a></h3>
<p>If you want to walk through the <tt class="docutils literal"><span class="pre">childNodes</span></tt> tree
you need to use the <tt class="docutils literal"><span class="pre">getElementsByTagName</span></tt>,
inside a for statement:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parse</span>
<span class="n">dom</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&#39;test.xml&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s">&#39;tag&#39;</span><span class="p">):</span>  <span class="c"># visit every node &lt;tag/&gt;</span>
    <span class="k">print</span> <span class="n">node</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">getElementsByTagName</span></tt> finds all children of a given name,
no matter how deep, thus working recursively.</p>
</div>
<div class="section" id="adding-an-empty-element">
<h3>Adding an empty element<a class="headerlink" href="#adding-an-empty-element" title="Permalink to this headline">¶</a></h3>
<p>Another functionality is be able to add
new nodes in the XML structure,
for example if we want to add an empty <tt class="docutils literal"><span class="pre">&lt;new</span> <span class="pre">tag</span> <span class="pre">/&gt;</span></tt>
it is necessary to do the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parse</span>
<span class="n">dom</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&#39;test.xml&#39;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s">&#39;new tag&#39;</span><span class="p">)</span>  <span class="c"># creates &lt;new tag /&gt;</span>
<span class="n">dom</span><span class="o">.</span><span class="n">childNodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c"># appends at end of 1st child&#39;s children</span>
<span class="k">print</span> <span class="n">dom</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
</pre></div>
</div>
<p>New <tt class="docutils literal"><span class="pre">test.xml</span></tt> file:</p>
<div class="highlight-python"><pre>&lt;?xml version="1.0" ?&gt;
&lt;tag&gt;
    test content
    &lt;name&gt;hello&lt;/name&gt;
    &lt;name&gt;world&lt;/name&gt;
&lt;new tag/&gt;&lt;/tag&gt;</pre>
</div>
</div>
<div class="section" id="adding-an-element-with-text-inside">
<h3>Adding an element with text inside<a class="headerlink" href="#adding-an-element-with-text-inside" title="Permalink to this headline">¶</a></h3>
<p>If you want to create a new node,
but adding text inside, or example:</p>
<div class="highlight-python"><pre>&lt;new&gt;my content&lt;/new&gt;</pre>
</div>
<p>You need to create the following script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parse</span>
<span class="n">dom</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&#39;test.xml&#39;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s">&#39;new&#39;</span><span class="p">)</span>  <span class="c"># creates &lt;new /&gt;</span>
<span class="n">txt</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">createTextNode</span><span class="p">(</span><span class="s">&#39;my content&#39;</span><span class="p">)</span>  <span class="c"># creates &#39;my content&#39;</span>
<span class="n">x</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>  <span class="c"># results in &lt;new&gt;my content&lt;/new&gt;</span>

<span class="n">dom</span><span class="o">.</span><span class="n">childNodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c"># appends at end of 1st child&#39;s children</span>
<span class="k">print</span> <span class="n">dom</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
</pre></div>
</div>
<p>The new content of the file:</p>
<div class="highlight-python"><pre>&lt;?xml version="1.0" ?&gt;
&lt;tag&gt;
    test content
    &lt;name&gt;hello&lt;/name&gt;
    &lt;name&gt;world&lt;/name&gt;
&lt;new&gt;my content&lt;/new&gt;&lt;/tag&gt;</pre>
</div>
</div>
</div>
<div class="section" id="more-interesting-modules">
<h2>More interesting modules<a class="headerlink" href="#more-interesting-modules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="serial-port-development-pyserial">
<h3>Serial Port Development (PySerial)<a class="headerlink" href="#serial-port-development-pyserial" title="Permalink to this headline">¶</a></h3>
<p>In computing,
a serial port is a serial communication physical interface
through which information transfers in or out one bit at a time
(contrast parallel port).</p>
<p>Modern computers without serial ports may require serial-to-USB
converters to allow compatibility with RS 232 serial devices.</p>
<p>Serial ports are still used in applications such as industrial automation systems,
scientific instruments, shop till systems and some industrial and consumer products.</p>
<p>A serial port requires very little supporting software from the host system.</p>
<p><a class="reference external" href="http://pyserial.sourceforge.net/">PySerial</a> is one of the Python modules to work with
the serial port and devices.</p>
<p>To install this Python module,
please check the official <a class="reference external" href="http://pyserial.sourceforge.net/pyserial.html">PySerial installation</a> instructions.</p>
<p>An example which open a named port at <tt class="docutils literal"><span class="pre">19200,8,N,1</span></tt>, with1s timeout:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ser</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s">&#39;/dev/ttyS1&#39;</span><span class="p">,</span> <span class="mi">19200</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>          <span class="c"># read one byte</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>        <span class="c"># read up to ten bytes (timeout)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>   <span class="c"># read a &#39;\n&#39; terminated line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="sqlite-development-pysqlite">
<h3>SQLite Development (PySQLite)<a class="headerlink" href="#sqlite-development-pysqlite" title="Permalink to this headline">¶</a></h3>
<p>SQLite is an embedded relational database management system.
In difference to other data base (DB) management systems,</p>
<p>SQLite is not a separate process that is accessed from the client application,
but is a part of it, in other words, SQLite does not require to access a DB
server, because creates a local <tt class="docutils literal"><span class="pre">db</span></tt> file, with all the DB content.</p>
<p>To download and install this module,
you can visit the <a class="reference external" href="http://code.google.com/p/pysqlite/downloads/list">PySQLite download page</a>.</p>
<p>The following example show
how to interact with a <a class="reference external" href="http://code.google.com/p/pysqlite/">PySQLite</a>.</p>
<p>If we need to connect to a database file <tt class="docutils literal"><span class="pre">mydb</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysqlite2</span> <span class="kn">import</span> <span class="n">dbapi2</span> <span class="k">as</span> <span class="n">sqlite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;mydb&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For the following example,
we will consider a created data base,
with the following <tt class="docutils literal"><span class="pre">table</span></tt> and <tt class="docutils literal"><span class="pre">content</span></tt>,
SQL code:</p>
<div class="highlight-python"><pre>create table people
(
  name_last      varchar(20),
  age            integer
);

insert into people (name_last, age) values ('Yeltsin',   72);
insert into people (name_last, age) values ('Putin',     51);</pre>
</div>
<p>This example shows the simplest way to print the entire contents of the people table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysqlite2</span> <span class="kn">import</span> <span class="n">dbapi2</span> <span class="k">as</span> <span class="n">sqlite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;mydb&quot;</span><span class="p">)</span> <span class="c"># Create a connection to the database file &quot;mydb&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="c"># Get a Cursor object that operates in the context of Connection con</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;select * from people order by age&quot;</span><span class="p">)</span> <span class="c"># Execute the SELECT statement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span> <span class="c"># Retrieve all rows as a sequence and print that sequence</span>
</pre></div>
</div>
<p>Sample output:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[(</span><span class="s">u&#39;Putin&#39;</span><span class="p">,</span> <span class="mi">51</span><span class="p">),</span> <span class="p">(</span><span class="s">u&#39;Yeltsin&#39;</span><span class="p">,</span> <span class="mi">72</span><span class="p">)]</span>
</pre></div>
</div>
<p>To apply the changes into the data base you need to committed explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="python-imaging-library-pil">
<h3>Python Imaging Library (PIL)<a class="headerlink" href="#python-imaging-library-pil" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://www.pythonware.com/library/pil">Python Imaging Library</a> (PIL)
adds image processing capabilities to your Python interpreter.</p>
<p>This library supports many file formats,
and provides powerful image processing and graphics capabilities.</p>
<p>The <tt class="docutils literal"><span class="pre">Image</span></tt> class
is the most important class in PIL.</p>
<p>To load an image from a file,
use the open function in the Image module,
we will use the widely know <a class="reference external" href="../../_static/images/lena.ppm">lena.ppm</a>.</p>
<img alt="lena" src="lectures/week8/../../_static/images/lena.png" style="width: 300px;" />
<p>The code will be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;lena.ppm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If successful,
this function returns an <tt class="docutils literal"><span class="pre">Image</span> <span class="pre">object</span></tt>.
You can now use instance attributes to examine the file contents:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">im</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">mode</span>
<span class="go">PPM (512, 512) RGB</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lecture 32 - Using SQL Developer</a><ul>
<li><a class="reference internal" href="#argument-parser-argparse">Argument Parser (<tt class="docutils literal"><span class="pre">argparse</span></tt>)</a></li>
<li><a class="reference internal" href="#comma-separated-values-csv">Comma-Separated Values (CSV)</a><ul>
<li><a class="reference internal" href="#writer">Writer</a></li>
<li><a class="reference internal" href="#reader">Reader</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extensible-markup-language-xml">Extensible Markup Language (XML)</a><ul>
<li><a class="reference internal" href="#parsing-xml">Parsing XML</a></li>
<li><a class="reference internal" href="#finding-elements">Finding elements</a></li>
<li><a class="reference internal" href="#adding-an-empty-element">Adding an empty element</a></li>
<li><a class="reference internal" href="#adding-an-element-with-text-inside">Adding an element with text inside</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-interesting-modules">More interesting modules</a><ul>
<li><a class="reference internal" href="#serial-port-development-pyserial">Serial Port Development (PySerial)</a></li>
<li><a class="reference internal" href="#sqlite-development-pysqlite">SQLite Development (PySQLite)</a></li>
<li><a class="reference internal" href="#python-imaging-library-pil">Python Imaging Library (PIL)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lecture31.html"
                        title="previous chapter">Lecture 31 - Backup and Recovery Services Database</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="assignment8.html"
                        title="next chapter">Assignment 8</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week8/lecture32.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="assignment8.html" title="Assignment 8"
             >next</a> |</li>
        <li class="right" >
          <a href="lecture31.html" title="Lecture 31 - Backup and Recovery Services Database"
             >previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Eighth week</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Patricia Fredes, Joao Fuentes, Margarita Ortega.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>