

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lecture 22 - Constraints and triggers: Constraints of several types &mdash; sql-course 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="sql-course 1 documentation" href="../../index.html" />
    <link rel="up" title="Sixth week" href="index.html" />
    <link rel="next" title="Lecture 23 - Constraints and triggers: Referential integrity" href="lecture23.html" />
    <link rel="prev" title="Lecture 21 - Constraints and triggers: Introduction" href="lecture21.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="lecture23.html" title="Lecture 23 - Constraints and triggers: Referential integrity"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lecture21.html" title="Lecture 21 - Constraints and triggers: Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Sixth week</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lecture-22-constraints-and-triggers-constraints-of-several-types">
<h1>Lecture 22 - Constraints and triggers: Constraints of several types<a class="headerlink" href="#lecture-22-constraints-and-triggers-constraints-of-several-types" title="Permalink to this headline">¶</a></h1>
<p>There are another thing that you can use
when you are programming with the OO paradigm
in Python, that in some cases will be very useful.</p>
<div class="section" id="objects-are-data-types">
<h2><tt class="docutils literal"><span class="pre">objects</span></tt> are data types<a class="headerlink" href="#objects-are-data-types" title="Permalink to this headline">¶</a></h2>
<p>The objects are data types like any another
python data type, so you can mix it with
different Python statement.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Robot</span><span class="p">():</span>
<span class="gp">... </span>  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>  <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot1</span> <span class="o">=</span> <span class="n">Robot</span><span class="p">(</span><span class="s">&#39;R2D2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot1</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;R2D2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot2</span> <span class="o">=</span> <span class="n">Robot</span><span class="p">(</span><span class="s">&#39;C3PO&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robot2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robots</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">robot1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">robot2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">robots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Robot</span><span class="p">(</span><span class="s">&#39;Robocop&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">robots</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span> <span class="n">i</span><span class="o">.</span><span class="n">name</span>
<span class="gp">...</span>
<span class="go">R2D2</span>
<span class="go">C3PO</span>
<span class="go">Robocop</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">robots</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">i</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">y</span>
<span class="gp">...</span>
<span class="go">(3, 5)</span>
<span class="go">(4, 1)</span>
<span class="go">(0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">robots</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">i</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">robots</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">i</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">y</span>
<span class="gp">...</span>
<span class="go">(5, 2)</span>
<span class="go">(6, -2)</span>
<span class="go">(2, -3)</span>
</pre></div>
</div>
<p>So, we can have list, dictionaries, set, etc  of objects!.</p>
</div>
<div class="section" id="methods-outside-a-class">
<h2><tt class="docutils literal"><span class="pre">methods</span></tt> outside a class<a class="headerlink" href="#methods-outside-a-class" title="Permalink to this headline">¶</a></h2>
<p>If you remember the method definition,
the only rule was that the first argument must be a <em>self</em> statement,
to belong to a certain class.</p>
<p>It is not necessary that the method be inside the class statement,
because you can assign an external function to a local method of the class.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">ext_pow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="n">y</span>

<span class="k">class</span> <span class="nc">myClass</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;hello, this is a method&#39;</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">ext_pow</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">f</span>
</pre></div>
</div>
<p>Lets talk about all the code:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ext_pow</span></tt> is a normal function, except that the first
argument is a <em>self</em> statement (this is the difference
between a <em>method</em> and a <em>function</em>).</li>
<li>The <tt class="docutils literal"><span class="pre">myClass</span></tt> is a simple class declaration.</li>
<li>The <tt class="docutils literal"><span class="pre">f</span></tt> method is a normal method, without extra
parameter, and the only functionality is that return an string,
with a message.</li>
<li>The <tt class="docutils literal"><span class="pre">p</span></tt> attribute is initializing referring the external function object,
so, calling <em>p()</em> will be the same that calling <em>ext_pow()</em>.</li>
<li>The <tt class="docutils literal"><span class="pre">h</span></tt> attribute is initializing referring the <tt class="docutils literal"><span class="pre">f</span></tt> function,
so, calling <em>h()</em> will be the same that calling <em>f()</em>.</li>
</ul>
<p>Lets look the functionality:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">myClass</span><span class="p">()</span> <span class="c"># Creating an object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="go">&lt;type &#39;instance&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">f</span>
<span class="go">&lt;bound method myClass.f of &lt;a.myClass instance at 0xb74448ac&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>
<span class="go">&#39;hello, this is a method&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">p</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c"># this is the behavior of the ext_pow function</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">p</span>
<span class="go">&lt;bound method myClass.ext_pow of &lt;a.myClass instance at 0xb74448ac&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">h</span>
<span class="go">&lt;bound method myClass.f of &lt;a.myClass instance at 0xb74448ac&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="go">&#39;hello, this is a method&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">ext_pow</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c"># this will not work, because ext_pow is not in the class, only the reference in p</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">myClass instance has no attribute &#39;ext_pow&#39;</span>
</pre></div>
</div>
<p>Note that this practice usually only serves to confuse the reader of a program,
so, is valid, but not recommended.</p>
</div>
<div class="section" id="calling-methods-inside-methods">
<h2>Calling <tt class="docutils literal"><span class="pre">methods</span></tt> inside <tt class="docutils literal"><span class="pre">methods</span></tt><a class="headerlink" href="#calling-methods-inside-methods" title="Permalink to this headline">¶</a></h2>
<p>When you create a class with a couple of methods inside,
you have visibility to all the attributes of the class,
so, you can also call one method from another.</p>
<p>For example, lets consider the next class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Bag</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">addtwice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c"># using the other method!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c"># using the other method!</span>
</pre></div>
</div>
<p>The idea of the methods, is that can be referenced in all the code inside the class.
So, this can be very useful when you have two or more functions with a similar
objective.</p>
</div>
<div class="section" id="adding-attributes-to-empty-classes">
<h2>Adding attributes to empty <tt class="docutils literal"><span class="pre">classes</span></tt><a class="headerlink" href="#adding-attributes-to-empty-classes" title="Permalink to this headline">¶</a></h2>
<p>The Class instances (objects) are <strong>mutable</strong> data types,
so, it is possible to have empty class definition
to build different objects, with different attributes.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Student</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>And now, modifying the instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">john</span> <span class="o">=</span> <span class="n">Student</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">john</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;John Smith&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">john</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">john</span>
<span class="go">&lt;__main__.Student instance at 0xb748694c&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marie</span> <span class="o">=</span> <span class="n">Student</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marie</span><span class="o">.</span><span class="n">name</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">Student instance has no attribute &#39;name&#39;</span>
</pre></div>
</div>
<p>If you look the example,
you can note that the second instance of the Student class
have not the same attributes of the first instance.</p>
<p>You can also add some function to a class instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">... </span>  <span class="k">print</span> <span class="s">&#39;Simple function&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">john</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">john</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
<span class="go">Simple function</span>
</pre></div>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">A course is composed by a group of students,
and a student can be saw as a <em>class</em>.</p>
<p>Create a class called <tt class="docutils literal"><span class="pre">Student</span></tt> which contain
the following attributes:</p>
<ul class="simple">
<li>Name (string)</li>
<li>Age (integer)</li>
<li>Grades (list)</li>
</ul>
<p>and the methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">add_grade(self,</span> <span class="pre">grade)</span></tt>, which add a grade (0 to 100) to the Grades list.</li>
<li><tt class="docutils literal"><span class="pre">check_status(self)</span></tt>, calculate the average of the grades.
If the average is over 60, the method must return <cite>True</cite>, otherwise <cite>False</cite>.</li>
</ul>
<p>Develop a program which use this class to generate a course,
of 20 students.</p>
<p>Also, you need to create a list of these students, for each student,
you need to add new grades randomly and check the status grade by grade.</p>
<p>Remember that you can generate randomly grades:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="n">grade</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a class called <tt class="docutils literal"><span class="pre">Data</span></tt> which provide
an attribute called <em>numbers</em> and two methods,
an <em>average</em> method, and a <em>standard deviation</em> method.</p>
<p>The idea is when the method <em>standard deviation</em>
start the calculus, use the <em>average</em> method.</p>
<p>You can develop a method to  add some numbers to the
attribute.</p>
<p>Remember that the standard deviation of a sample
is defined by:</p>
<div class="math">
\[s = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (x_{i} - \hat{x})^{2}}\]</div>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lecture 22 - Constraints and triggers: Constraints of several types</a><ul>
<li><a class="reference internal" href="#objects-are-data-types"><tt class="docutils literal"><span class="pre">objects</span></tt> are data types</a></li>
<li><a class="reference internal" href="#methods-outside-a-class"><tt class="docutils literal"><span class="pre">methods</span></tt> outside a class</a></li>
<li><a class="reference internal" href="#calling-methods-inside-methods">Calling <tt class="docutils literal"><span class="pre">methods</span></tt> inside <tt class="docutils literal"><span class="pre">methods</span></tt></a></li>
<li><a class="reference internal" href="#adding-attributes-to-empty-classes">Adding attributes to empty <tt class="docutils literal"><span class="pre">classes</span></tt></a></li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lecture21.html"
                        title="previous chapter">Lecture 21 - Constraints and triggers: Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lecture23.html"
                        title="next chapter">Lecture 23 - Constraints and triggers: Referential integrity</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week6/lecture22.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="lecture23.html" title="Lecture 23 - Constraints and triggers: Referential integrity"
             >next</a> |</li>
        <li class="right" >
          <a href="lecture21.html" title="Lecture 21 - Constraints and triggers: Introduction"
             >previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Sixth week</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Patricia Fredes, Joao Fuentes, Margarita Ortega.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>