

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lecture 15 - Use of objects and Files &mdash; sql-course 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="sql-course 1 documentation" href="../../index.html" />
    <link rel="up" title="Fourth week" href="index.html" />
    <link rel="next" title="Lecture 16 - Errors and exceptions" href="lecture16.html" />
    <link rel="prev" title="Lecture 14 - Modules creation" href="lecture14.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="lecture16.html" title="Lecture 16 - Errors and exceptions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lecture14.html" title="Lecture 14 - Modules creation"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Fourth week</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lecture-15-use-of-objects-and-files">
<h1>Lecture 15 - Use of objects and Files<a class="headerlink" href="#lecture-15-use-of-objects-and-files" title="Permalink to this headline">¶</a></h1>
<p>In Python, the <strong>objects</strong> are abstraction for data.
All the data inside a Python program is represented by objects
or, in some cases, by relations between two or more objects.
We are saying that all the basic elements like <cite>integers</cite>, <cite>functions</cite>,
<cite>strings</cite>, <cite>dictionaries</cite>, and so on, are all objects
and, notoriously they have certain things in common.</p>
<div class="section" id="about-the-objects">
<h2>About the objects<a class="headerlink" href="#about-the-objects" title="Permalink to this headline">¶</a></h2>
<p>The idea of this lecture is to understand
the idea behind the objects, but all the
<em>Object Oriented Paradigm</em> will be
studied in more detail in the next lectures.</p>
<p>An <em>object</em> is an instance of a <em>class</em>,
the most simple example to understand this,
is to think in a class called <tt class="docutils literal"><span class="pre">Human</span></tt>,
and all of us as instances of this class, because we are all
human beings. In the same way, a <em>class</em>
has several functions, called <em>methods</em>.
In our example, as Human, we can <em>walk</em>, <em>speak</em>,
<em>run</em>, etc. so we, as objects, can use those
methods, because we can speak, walk, etc.</p>
<p>Several functions that you used,
create objects of different types,
like <em>bool()</em>, <em>dict()</em>, <em>float()</em>,
<em>int()</em>, <em>list()</em>, <em>set()</em>, <em>tuple()</em>, <em>str()</em>,
etc.</p>
<p>The idea of the previous methods,
is to convert objects to different types,
for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="mf">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">4.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="n">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Also between objects like, <em>lists</em>, <em>sets</em>,
<em>tuples</em> and <em>dictionaries</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;type &#39;tuple&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">set([1, 2])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">(1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;type &#39;set&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">[1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;one&#39;</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;two&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span>
<span class="go">{1: &#39;one&#39;, 2: &#39;two&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&lt;type &#39;dict&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">set([1, 2])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
<p>The objects, as you saw in the previous lectures,
have several useful methods, which can be executed
as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">object</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</pre></div>
</div>
<p>As it was done in the previous examples about <em>lists</em>, <em>sets</em>,
<em>tuples</em> and <em>dictionaries</em>, for example:</p>
<div class="highlight-python"><pre>a = [1,3,2]
&gt;&gt;&gt; a.sort()
&gt;&gt;&gt; a
[1, 2, 3]</pre>
</div>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>Every data used by a program during its execution are stored in their variables,
which are stored in the RAM memory of the computer.</p>
<p>The RAM memory is a volatile storage element: when the program is finished,
or when the computer is turned off, all the data is lost forever.</p>
<p>For a program to save the data permanently, it is necessary to use a persistent storage medium,
being the hard-drive the most important case.</p>
<p>The hard-drive data is organized in files.
A file is a sequence of data saved in a persistent medium, available to being used
by another program.</p>
<p>All the files have a name and location inside the file system
of the same Operating System.</p>
<p>The data file is present after the program, which writes the file, is finished.</p>
<p>A program can save its data in files to be used in a future execution,
also can read the data from data-files created by other programs.</p>
<p>A program can not manipulate directly the data in another file.
To use a file, a program must always open a file and allocate it to a variable,
which is called a logic-file.</p>
<p>All the operations over a file are performed through the logic-file.</p>
<p>Depending on the content, there are many file-types.
We will work with the file-text type,
which contains text and can be opened and modified using
a text-editor, like Notepad.
The text-file generally has names finishing with a <tt class="docutils literal"><span class="pre">.txt</span></tt>.</p>
<p>Working with files is a nightmare in some programming languages,
but is very simple in Python.</p>
<p>First of all, you must know that an instance of a file
inside a program or script is an object (logic-file), so like all the
objects, has some very useful methods.</p>
<p>To explain the files behaviour in Python, we will consider
the next file, called <a class="reference external" href="../../_static/data.txt">data.txt</a>.</p>
<div class="highlight-python"><pre>Hello first line!
Oh! the second line
The next line is very boring
1,-234.5,45.8,ok
Final line :)</pre>
</div>
<p><strong>Opening</strong> a file is very easy:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now <tt class="docutils literal"><span class="pre">my_file</span></tt> is an object that is
an instance to access the <cite>data.txt</cite> file.</p>
<p>But, what is the <em>&#8216;r&#8217;</em> statement?
The second parameter of the <strong>open()</strong> method
specifies the <em>mode</em> when the file is opened.
Some useful modes are:</p>
<ul class="simple">
<li><em>r</em>, <tt class="docutils literal"><span class="pre">read-only</span></tt> mode,</li>
<li><em>w</em>, <tt class="docutils literal"><span class="pre">write-only</span></tt> mode,
if the file exists it will be overwritten,</li>
<li><em>a</em>, <tt class="docutils literal"><span class="pre">append</span></tt> mode.</li>
</ul>
<p>If you do not give any mode,
the default mode is <tt class="docutils literal"><span class="pre">read-only</span></tt>.</p>
<p>There are different ways to <strong>Read</strong> a file,
but now we will focus on three methods,
<tt class="docutils literal"><span class="pre">read()</span></tt>, <tt class="docutils literal"><span class="pre">readline()</span></tt> and <tt class="docutils literal"><span class="pre">readlines()</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">read()</span></tt> method, returns the entire content
of the file, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="n">my_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">content</span>
<span class="go">Hello first line!</span>
<span class="go">Oh! the second line</span>
<span class="go">The next line is very boring</span>
<span class="go">1,-234.5,45.8,ok</span>
<span class="go">Final line :)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">new_content</span> <span class="o">=</span> <span class="n">my_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">new_content</span>

<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">content</span></tt> variable contains all the information
of the file.</p>
<p>But, what happened with the <tt class="docutils literal"><span class="pre">new_content</span></tt> variable?
is empty!. This is because when you open a file
a <tt class="docutils literal"><span class="pre">pointer</span></tt> is positioned at the beginning of the file,
and when you read the file, the pointer moves forward,
so with the first call of the <tt class="docutils literal"><span class="pre">read()</span></tt> method,
the pointer reached the end of the file, so in the next
call of the <tt class="docutils literal"><span class="pre">read()</span></tt> method, there is no more
content to read, that is the reason to have an
empty variable called <tt class="docutils literal"><span class="pre">new_content</span></tt>.</p>
<p>If you want to move backward or forward inside a file
you need to read about the <a class="reference external" href="http://docs.python.org/library/stdtypes.html#file.seek">seek()</a> method.</p>
<p>The <tt class="docutils literal"><span class="pre">readline()</span></tt> method, returns only one line of the file,
for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;Hello first line!\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;Oh! the second line\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;The next line is very boring\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;1,-234.5,45.8,ok\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;Final line :)\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="go">&#39;&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>You can also assign a line to a variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simple_line</span> <span class="o">=</span> <span class="n">my_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">simple_line</span>
<span class="go">&#39;Hello first line!\n&#39;</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">readlines()</span></tt> method, returns a list with all
the lines in the file, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="go">[&#39;Hello first line!\n&#39;, &#39;Oh! the second line\n&#39;, &#39;The next line is very boring\n&#39;, &#39;1,-234.5,45.8,ok\n&#39;, &#39;Final line :)\n&#39;]</span>
</pre></div>
</div>
<p>To obtain strings without the <tt class="docutils literal"><span class="pre">\n</span></tt>,
you can use the <strong>strip</strong> method,
which removes all the space symbols from the beginning
to the end:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;   Hello</span><span class="se">\n</span><span class="s">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="go">&#39;Hello&#39;</span>
</pre></div>
</div>
<p>So, if you remember the <a class="reference external" href="../week3/lecture9.html">list</a> lecture
you can iterate over a list to work with each element:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">my_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
<span class="gp">... </span>   <span class="k">print</span> <span class="n">line</span>
<span class="gp">...</span>
<span class="go">Hello first line!</span>

<span class="go">Oh! the second line</span>

<span class="go">The next line is very boring</span>

<span class="go">1,-234.5,45.8,ok</span>

<span class="go">Final line :)</span>

<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Is very annoying to have blank lines
between each line. To avoid this
you need to add a comma to the print line,
like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">my_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
<span class="gp">... </span>   <span class="k">print</span> <span class="n">line</span><span class="p">,</span>
<span class="gp">...</span>
<span class="go">Hello first line!</span>
<span class="go">Oh! the second line</span>
<span class="go">The next line is very boring</span>
<span class="go">1,-234.5,45.8,ok</span>
<span class="go">Final line :)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>We will look two methods to <strong>Write</strong>
a file: Using the <tt class="docutils literal"><span class="pre">write()</span></tt> and the <tt class="docutils literal"><span class="pre">writelines()</span></tt>
methods.</p>
<p>The <tt class="docutils literal"><span class="pre">write()</span></tt> method allows to write a string
inside the file, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data2.txt&#39;</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;test content</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">localhost~&gt; cat data2.txt</span>
<span class="go">test content</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">writelines()</span></tt> method allow to write
several lines inside the file, this is possible
to give a list of strings as parameter to the method,
for example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;data2.txt&#39;</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_list</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;first line</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span><span class="s">&#39;second line</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span><span class="s">&#39;final line</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">localhost~&gt; cat data2.txt</span>
<span class="go">first line</span>
<span class="go">second line</span>
<span class="go">final line</span>
</pre></div>
</div>
<p>If you want to <em>close</em> a file,
the function is called <tt class="docutils literal"><span class="pre">close()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="objects-characteristics-optional">
<h2>Objects characteristics (optional)<a class="headerlink" href="#objects-characteristics-optional" title="Permalink to this headline">¶</a></h2>
<p>Every object has three main characteristics:</p>
<ul>
<li><p class="first">An identity (unique and unchangeable), that is an integer returned by <tt class="docutils literal"><span class="pre">id(&lt;object&gt;)</span></tt> method.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">=</span> <span class="mi">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="go">163098656</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;carl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="go">3075656576L</span>
</pre></div>
</div>
</li>
<li><p class="first">A type (unchangeable), that is returned by <tt class="docutils literal"><span class="pre">type(&lt;object&gt;)</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">=</span> <span class="mi">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;carl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="go">&lt;type &#39;str&#39;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">A value, saved in the assignment process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">=</span> <span class="mi">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;carl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span>
<span class="go">&#39;carl&#39;</span>
</pre></div>
</div>
</li>
</ul>
<p>If you change the value of a variable, the identity will change in almost all the cases.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">=</span> <span class="mi">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="go">163098668</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="go">163098656</span>
</pre></div>
</div>
<p>Some objects do not allow to change their content, because they are immutable like the tuples
(See <a class="reference external" href="../week3/lecture10.html">lecture10</a> for more details)</p>
<p>The idea of the <strong>type</strong> of an object is to know some details about it,
the methods they have, the bytes of memory they use, etc.</p>
<p>The <strong>name</strong> of an object is different,
it is not a property itself, because the object
does not know its name.
An object can have several names or not have a name,
so they live only in the namespace
(Namespace, collection of names and object references pairs).</p>
<p>To clarify this idea,
lets see this simple line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span> <span class="o">=</span> <span class="mi">42</span>
</pre></div>
</div>
<p>this means that we are adding the name &#8216;variable&#8217; to our namespace,
making it refer to an integer object with the value &#8216;42&#8217;.</p>
<p>You can assign a new object reference to a name,
simple adding a new value in your code,
for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span> <span class="o">=</span> <span class="s">&#39;hello&#39;</span>
</pre></div>
</div>
<p>First, we add the name <tt class="docutils literal"><span class="pre">variable</span></tt> to the local namespace,
making it refer to an integer object with the value 42,
and in the next line, we are making it point to a string
with the value <tt class="docutils literal"><span class="pre">hello</span></tt>.</p>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">The files <a class="reference external" href="../../_static/a.txt">a.txt</a> and <a class="reference external" href="../../_static/b.txt">b.txt</a>
have several sorted numbers from lowest to highest.</p>
<p>Write a program which creates a file called <tt class="docutils literal"><span class="pre">c.txt</span></tt>
which contains all the numbers from <tt class="docutils literal"><span class="pre">a.txt</span></tt> and <tt class="docutils literal"><span class="pre">b.txt</span></tt>
sorted as well.</p>
<p>Do not save the numbers in a data structure.
Read and write them one by one.</p>
</li>
<li><p class="first">A charity institution has a register of the people which do some
donations, in a register file called <tt class="docutils literal"><span class="pre">donors.txt</span></tt>.</p>
<p>The file is sorted by the people&#8217;s ID from lowest to highest.
To simplify the problem,
lets suppose that each ID has five digits
without including a verification digit after the dash.</p>
<p>For example,
the file content can be the following:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="63%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">ID</p>
</th>
<th class="head"><p class="first last">Name</p>
</th>
<th class="head"><p class="first last">Amount</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">15274</p>
</td>
<td><p class="first last">Marie Curie</p>
</td>
<td><p class="first last">200</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">15891</p>
</td>
<td><p class="first last">Jean Dupont</p>
</td>
<td><p class="first last">150</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">16443</p>
</td>
<td><p class="first last">Erika Mustermann</p>
</td>
<td><p class="first last">400</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">16504</p>
</td>
<td><p class="first last">John Smith</p>
</td>
<td><p class="first last">80</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">17004</p>
</td>
<td><p class="first last">Jan Kowalski</p>
</td>
<td><p class="first last">200</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The challenges are the following:</p>
<ol class="arabic simple">
<li>Write a function which creates the file, with the table data.</li>
<li>Write a function which shows the file content.</li>
<li>Write a function which asks the user to enter an ID,
and shows as output the donation amount by that person.</li>
<li>Write a function which asks the user to enter an ID,
and removes the user with that ID from the file.</li>
<li>Write a program which asks the user to enter a donor&#8217;s information
and add it to the file.</li>
</ol>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">data1.txt</span></tt> file
has three integer numbers in each line:</p>
<div class="highlight-none"><div class="highlight"><pre>45 12 98
1 12 65
7 15 76
54 23 1
65 2 84
</pre></div>
</div>
<ol class="arabic">
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">lines_addition(filename)</span></tt>
which returns a list with the addition of each of the lines in the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lines_addition</span><span class="p">(</span><span class="s">&#39;data1.txt&#39;</span><span class="p">)</span>
<span class="go">[155, 78, 98, 78, 151]</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">column_addition(filename)</span></tt>
which return a list with the addition of each of the three columns in the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">column_addition</span><span class="p">(</span><span class="s">&#39;data1.txt&#39;</span><span class="p">)</span>
<span class="go">[172, 64, 324]</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">A shop has their products information in a file called <tt class="docutils literal"><span class="pre">products.txt</span></tt>.
Each line in the file has three data:</p>
<ul class="simple">
<li>the product code (an integer number),</li>
<li>the product name, and</li>
<li>the units number of the product
remaining in the warehouse.</li>
</ul>
<p>The data is separated by a <tt class="docutils literal"><span class="pre">/</span></tt> symbol.
For example,
the next lines can be the file content:</p>
<div class="highlight-none"><div class="highlight"><pre>1265/Watch/26
613/Notebook/87
9801/Trumpet/3
321/Pencil/12
5413/Tomatoes/5
</pre></div>
</div>
<ol class="arabic">
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">product_exist(code)</span></tt>
which allows to know if a product with the given code
exists or not:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">product_exist</span><span class="p">(</span><span class="mi">1784</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_exist</span><span class="p">(</span><span class="mi">321</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_exist</span><span class="p">(</span><span class="mi">613</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_exist</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">replenish_soon()</span></tt>
which creates a new file called <tt class="docutils literal"><span class="pre">replenish_soon.txt</span></tt>
which contains all the product data for the products that are less than 10 units remaining.</p>
<p>In this case,
the <tt class="docutils literal"><span class="pre">replenish_soon.txt</span></tt> file
must contain the following information:</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>9801/Trumpet/3
5413/Tomatoes/5
</pre></div>
</div>
</li>
<li><p class="first">A Medical center has a file called <tt class="docutils literal"><span class="pre">patients.txt</span></tt>
with the personal data of their patients.
Each file line has the ID, the name and the age of a patient,
separated by the <tt class="docutils literal"><span class="pre">:</span></tt> symbol.
This is how the file looks like:</p>
<div class="highlight-none"><div class="highlight"><pre>12067539-7:Anastasia López:32
15007265-4:Andrés Morales:26
8509454-8:Pablo Muñoz:45
7752666-8:Ignacio Navarro:49
8015253-1:Alejandro Pacheco:51
9217890-0:Patricio Pimienta:39
9487280-4:Ignacio Rosas:42
12393241-2:Ignacio Rubio:33
11426761-9:Romina Pérez:35
15690109-1:Francisco Ruiz:26
6092377-9:Alfonso San Martín:65
9023365-3:Manuel Toledo:38
10985778-5:Jesús Valdés:38
13314970-8:Abel Vázquez:30
7295601-k:Edison Muñoz:60
5106360-0:Andrea Vega:71
8654231-5:Andrés Zambrano:55
10105321-0:Antonio Almarza:31
13087677-3:Jorge Álvarez:28
9184011-1:Laura Andrade:47
12028339-1:Jorge Argandoña:29
10523653-0:Camila Avaria:40
12187197-1:Felipe Ávila:36
5935556-2:Aquiles Barriga:80
14350739-4:Eduardo Bello:29
6951420-0:Cora Benítez:68
11370775-5:Hugo Berger:31
11111756-k:Cristóbal Bórquez:34
</pre></div>
</div>
<p>Also,
each time that someone has an appointment with a doctor,
the visit is registered in a file called <tt class="docutils literal"><span class="pre">appointments.txt</span></tt>,
adding a new line with the patient ID,
the visit date (in <tt class="docutils literal"><span class="pre">day-month-year</span></tt> format)
and the appointment cost,
also separated by a <tt class="docutils literal"><span class="pre">:</span></tt> symbol.
The file looks like:</p>
<div class="highlight-none"><div class="highlight"><pre>8015253-1:4-5-2010:69580
12393241-2:6-5-2010:57274
10985778-5:8-5-2010:73206
8015253-1:10-5-2010:30796
8015253-1:12-5-2010:47048
12028339-1:12-5-2010:47927
11426761-9:13-5-2010:39117
10985778-5:15-5-2010:86209
7752666-8:18-5-2010:41916
8015253-1:18-5-2010:74101
12187197-1:20-5-2010:38909
8654231-5:20-5-2010:75018
8654231-5:22-5-2010:64944
5106360-0:24-5-2010:53341
8015253-1:27-5-2010:76047
9217890-0:30-5-2010:57726
7752666-8:1-6-2010:54987
8509454-8:2-6-2010:76483
6092377-9:2-6-2010:62106
11370775-5:3-6-2010:67035
11370775-5:7-6-2010:47299
8509454-8:7-6-2010:73254
8509454-8:10-6-2010:82955
11111756-k:10-6-2010:56520
7752666-8:10-6-2010:40820
12028339-1:12-6-2010:79237
11111756-k:13-6-2010:69094
5935556-2:14-6-2010:73174
11111756-k:21-6-2010:70417
11426761-9:22-6-2010:80217
12067539-7:25-6-2010:31555
11370775-5:26-6-2010:75796
10523653-0:26-6-2010:34585
6951420-0:28-6-2010:45433
5106360-0:1-7-2010:48445
8654231-5:4-7-2010:76458
</pre></div>
</div>
<p>Note that the dates are sorted from the oldest to the most recent date,
because the new lines are always added at the end of the file.</p>
<ol class="arabic">
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">total_patient_cost(ID)</span></tt>
which contains the patient appointments total cost
of the given ID:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">total_patient_cost</span><span class="p">(</span><span class="s">&#39;8015253-1&#39;</span><span class="p">)</span>
<span class="go">297572</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_patient_cost</span><span class="p">(</span><span class="s">&#39;14350739-4&#39;</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">day_patients(day,</span> <span class="pre">month,</span> <span class="pre">year)</span></tt>
which returns a list with the name of the patients that attended
on a given date:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">day_patients</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2010</span><span class="p">)</span>
<span class="go">[&#39;Pablo Muñoz&#39;, &#39;Alfonso San Martín&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">day_patients</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2010</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function called <tt class="docutils literal"><span class="pre">split_patients()</span></tt>
which makes two different files:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">young.txt</span></tt>, with the data of the young patients with less than 30 years old;</li>
<li><tt class="docutils literal"><span class="pre">old.txt</span></tt>, with the data of all the patients with more than 60 years old.</li>
</ul>
<p>For example,
the  <tt class="docutils literal"><span class="pre">young.txt</span></tt> file must looks like:</p>
<div class="highlight-none"><div class="highlight"><pre>15007265-4:Andrés Morales:26
15690109-1:Francisco Ruiz:26
13087677-3:Jorge Álvarez:28
12028339-1:Jorge Argandoña:29
14350739-4:Eduardo Bello:29
</pre></div>
</div>
</li>
<li><p class="first">Write a function called  <tt class="docutils literal"><span class="pre">profit_by_month()</span></tt>
which makes a new file called <tt class="docutils literal"><span class="pre">profits.txt</span></tt>
which contains the total profit for each month
following the next format:</p>
<div class="highlight-none"><div class="highlight"><pre>5-2010:933159
6-2010:1120967
7-2010:124903
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">The grades of a subject are saved in a file called <tt class="docutils literal"><span class="pre">grades.txt</span></tt>,
which contains the following data:</p>
<div class="highlight-python"><pre>Pepito:5.3:3.7:6.7:6.7:7.1:5.5
Yayita:5.5:5.2:2.0:5.6:6.0:2.0
Fulanita:7.1:6.6:6.4:5.1:5.8:6.3
Moya:5.2:4.7:1.8:3.5:2.7:4.5</pre>
</div>
<p>Each line has the student name and their six grades, divided by a <tt class="docutils literal"><span class="pre">:</span></tt> symbol.</p>
<p>Write a program which makes a new file called <tt class="docutils literal"><span class="pre">report.txt</span></tt>,
in which each line shows if the student passed (average &gt;= 4,0) or failed (average &lt; 4,0):</p>
<div class="highlight-python"><pre>Pepito approved
Yayita approved
Fulanita approved
Moya failed</pre>
</div>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lecture 15 - Use of objects and Files</a><ul>
<li><a class="reference internal" href="#about-the-objects">About the objects</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
<li><a class="reference internal" href="#objects-characteristics-optional">Objects characteristics (optional)</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lecture14.html"
                        title="previous chapter">Lecture 14 - Modules creation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lecture16.html"
                        title="next chapter">Lecture 16 - Errors and exceptions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week4/lecture15.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="lecture16.html" title="Lecture 16 - Errors and exceptions"
             >next</a> |</li>
        <li class="right" >
          <a href="lecture14.html" title="Lecture 14 - Modules creation"
             >previous</a> |</li>
        <li><a href="../../index.html">sql-course 1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Fourth week</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Patricia Fredes, Joao Fuentes, Margarita Ortega.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>